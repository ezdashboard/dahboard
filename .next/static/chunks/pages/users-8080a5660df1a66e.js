(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2892],{7476:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return a(2199)}])},2199:function(e,t,a){"use strict";a.r(t);var s=a(5893),l=a(7294),c=a(9008),n=a.n(c),r=a(1664),o=a.n(r),i=a(6984),m=a(4442);a(8326);var d=a(6154),h=a(1862),x=a(3718),p=a(2027);let u=()=>{let[e,t]=(0,l.useState)(null),[a,c]=(0,l.useState)("py-5"),[r,u]=(0,l.useState)({companyname:"",title:"",name:"",email:"",contactno:"",about:"",location:"",userid:""}),[j,g]=(0,l.useState)({companyname:"",title:"",name:"",email:"",contactno:"",about:"",location:"",image:"",logo:"",userid:""}),[N,f]=(0,l.useState)(0),[w,v]=(0,l.useState)(!1),[b,S]=(0,l.useState)(!1),[y,k]=(0,l.useState)(1),[_,E]=(0,l.useState)([]),A=async e=>{d.Z.get("http://122.160.48.132/dev/vikas/react-backend/userDelete.php?userid=".concat(e)).then(t=>{if(t&&t.data&&t.data.status){let t=_.filter(t=>t.id!==e);E(t),alert("Deleted successfully.")}}).catch(e=>{})},D=async e=>{d.Z.get("http://122.160.48.132/dev/vikas/react-backend/users.php?page=".concat(e)).then(e=>{let t=e.data.userData.map(e=>({id:e.userid,name:e.name,email:e.email,contactno:e.contactno,companyname:e.companyname,title:e.title,logo:e.logo,type:e.type,status:"1"==e.status?"Active":"Inactive",image:e.image}));E(t)}).catch(e=>{})};(0,l.useEffect)(()=>{localStorage.title&&localStorage.email&&localStorage.logo&&localStorage.companyname&&localStorage.userid&&localStorage.name&&g({companyname:localStorage.companyname,title:localStorage.title,name:localStorage.name,email:localStorage.email,contactno:localStorage.contactno?localStorage.contactno:"",about:localStorage.about?localStorage.about:"",location:localStorage.location?localStorage.location:"",image:localStorage.image?localStorage.image:"",logo:localStorage.logo,userid:localStorage.userid}),D(y)},[y]);let[C,T]=(0,l.useState)(""),[I,U]=(0,l.useState)({});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n(),{children:[(0,s.jsx)("meta",{charset:"utf-8"}),(0,s.jsx)("link",{href:"#",rel:"shortcut icon"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("meta",{name:"description",content:""}),(0,s.jsx)("meta",{name:"keywords",content:""}),(0,s.jsx)("meta",{name:"author",content:""}),(0,s.jsx)("title",{children:"Reseller Dashboard"}),(0,s.jsx)("link",{rel:"dns-prefetch",href:"//developers.google.com"}),(0,s.jsx)("link",{rel:"dns-prefetch",href:"//maps.googleapis.com"}),(0,s.jsx)("link",{href:"https://kit-pro.fontawesome.com/releases/v5.15.3/css/pro.min.css",rel:"stylesheet"}),(0,s.jsx)("script",{src:"http://122.160.48.132/dev/html/reseller-dashboard/js/markerclusterer.js"}),(0,s.jsx)("script",{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCcUcow5QHjitBVOfkTdy44l7jnaoFzW1k&libraries=places"}),(0,s.jsx)("script",{src:"http://122.160.48.132/dev/html/reseller-dashboard/js/app.js"}),(0,s.jsx)("script",{src:"http://122.160.48.132/dev/html/reseller-dashboard/js/map.js"})]}),(0,s.jsxs)("div",{className:"flex mt-[4.7rem] md:mt-0",children:[(0,s.jsx)(i.default,{logo:j.logo}),(0,s.jsxs)("div",{className:"content",children:[(0,s.jsx)(m.default,{title:j.companyname,img:j.image}),(0,s.jsxs)("div",{className:"intro-y flex flex-col sm:flex-row items-center mt-8",children:[(0,s.jsx)("h2",{className:"text-lg font-medium mr-auto",children:"Users"}),(0,s.jsx)("div",{className:"w-full sm:w-auto flex mt-4 sm:mt-0",children:(0,s.jsx)(o(),{href:"/addUser",children:(0,s.jsx)("button",{className:"btn btn-primary shadow-md mr-2",children:"Add New User"})})})]}),(0,s.jsx)("div",{className:"grid grid-cols-12 gap-6 mt-5",children:(0,s.jsx)("div",{className:"intro-y col-span-12 overflow-auto lg:overflow-visible",children:(0,s.jsxs)("table",{className:"table table-report -mt-2",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"whitespace-nowrap",children:"NAME"}),(0,s.jsx)("th",{className:"whitespace-nowrap",children:"EMAILID"}),(0,s.jsx)("th",{className:"text-center whitespace-nowrap",children:"USER ROLE"}),(0,s.jsx)("th",{className:"text-center whitespace-nowrap",children:"STATUS"}),(0,s.jsx)("th",{className:"text-center whitespace-nowrap",children:"ACTIONS"})]})}),(0,s.jsx)("tbody",{children:_&&_.map((e,t)=>(0,s.jsxs)("tr",{className:"intro-x",children:[(0,s.jsx)("td",{className:"w-40",children:(0,s.jsx)("div",{className:"flex",children:(0,s.jsxs)("div",{className:"w-10 h-10 image-fit zoom-in",children:[(0,s.jsx)(o(),{href:"#",className:"font-medium whitespace-nowrap",children:e.name}),(0,s.jsx)("div",{className:"text-slate-500 text-xs whitespace-nowrap mt-0.5",children:e.title})]})})}),(0,s.jsx)("td",{children:(0,s.jsx)(o(),{href:"#",className:"font-medium whitespace-nowrap",children:e.email})}),(0,s.jsx)("td",{className:"text-center",children:e.type}),(0,s.jsx)("td",{className:"w-40",children:(0,s.jsxs)("div",{className:"flex items-center justify-center text-success",children:[" ",(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-2"})," ",e.status," "]})}),(0,s.jsxs)("td",{className:"table-report__action w-56",children:[(0,s.jsxs)("div",{className:"flex justify-center items-center",children:[(0,s.jsxs)(o(),{className:"flex items-center mr-3",href:"/users/"+e.id,children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-1"})," Edit "]}),(0,s.jsxs)(o(),{className:"flex items-center text-danger",href:"#",onClick:()=>A(e.id),children:[" ",(0,s.jsx)(x.Z,{className:"w-4 h-4 mr-1"})," Delete "]})]}),(0,s.jsx)("div",{id:"delete-confirmation-modal"+t,className:"modal",tabIndex:"-1","aria-hidden":"true",children:(0,s.jsx)("div",{className:"modal-dialog",children:(0,s.jsx)("div",{className:"modal-content",children:(0,s.jsxs)("div",{className:"modal-body p-0",children:[(0,s.jsxs)("div",{className:"p-5 text-center",children:[(0,s.jsx)(p.Z,{className:"w-16 h-16 text-danger mx-auto mt-3"}),(0,s.jsx)("div",{className:"text-3xl mt-5",children:"Are you sure?"}),(0,s.jsxs)("div",{className:"text-slate-500 mt-2",children:["Do you really want to delete these records?",(0,s.jsx)("br",{}),"This process cannot be undone."]})]}),(0,s.jsxs)("div",{className:"px-5 pb-8 text-center",children:[(0,s.jsx)("button",{type:"button","data-tw-dismiss":"modal",className:"btn btn-outline-secondary w-24 mr-1",children:"Cancel"}),(0,s.jsx)("button",{type:"button",onClick:()=>A(t),className:"btn btn-danger w-24",children:"Delete"})]})]})})})})]})]},t))})]})})})]})]})]})};t.default=u}},function(e){e.O(0,[1664,6154,8326,4075,9774,2888,179],function(){return e(e.s=7476)}),_N_E=e.O()}]);